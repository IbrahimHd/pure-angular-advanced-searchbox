div(
  class="paasb-searchbox",
  data-search-box="true"
)
  paasb-search-box-filtering(
      search="Search",
      filters="paasbSearchBoxFiltering",
      ng-if="paasbSearchBoxFiltering && paasbSearchBoxFiltering.length"
  )
  div(class="paasb-searchbox-wrapper")
    i(
      class="fa",
      ng-class="{ 'fa-search': !query.length, 'fa-trash': ((query && query.length) || hasFilters) }",
      ng-click="handleGarbage();",
      paasb-draggable="",
      draggable="true"
    )
    paasb-search-box-cache-filter(
      ng-if="paasbSearchBoxCacheFilter"
    )
    i(
      class="fa fa-cog fa-spin",
      ng-if="isLoading",
      ng-class="{ 'no-cache-filtering': !paasbSearchBoxCacheFilter, 'has-eraser-and-no-cache-filtering': (hasQuery && !paasbSearchBoxCacheFilter), 'has-eraser-and-cache-filtering': (hasQuery && paasbSearchBoxCacheFilter) }"
    )
    input(
      type="text",
      ng-model="query",
      id="{{searchInputId}}"
    )
    i(
      class="fa fa-eraser",
      ng-if="hasQuery",
      ng-class="{ 'no-cache-filtering': !paasbSearchBoxCacheFilter }"
      ng-click="handleEraser();"
    )
    paasb-search-box-auto-complete(
      query="searchParams.query",
      config="paasbSearchBoxAutoComplete",
      input="input",
      ng-if="autoCompleteEnabled"
    )
